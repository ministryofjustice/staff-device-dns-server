# Overview

This repository contains the Dockerfile to create the [BIND](https://www.isc.org/bind/) DNS server Docker image. The configuration for this server is managed in the [Admin Portal](https://github.com/ministryofjustice/staff-device-dns-dhcp-admin).

This is a zone forwarding DNS server that doesn't resolve queries itself.
Any internal zones will forward to internal DNS servers for resolution and any public DNS requests will go to the [NCSC protective DNS service](https://ncsc.gov.uk/information/pdns).

## High level diagram

[![](https://mermaid.ink/img/pako:eNqtV2FT2zgQ_Sue9AtMLBsSKCXT6QwQyOUuhBSn5eZCp6PYcqLGlnySjJsS_vutLDlx4LjjuDIZjySv3u4-Pe2a-0bII9LoNOKEF-EcC-UMrm-ZA3_XJOWKfP0kidiJcSfGKIeh834q_A_OJf_VuYpjGlKclCvG2tHWuw5CH1Z9pohgRK2c3uje7A8TnkcGoJfwKU4s2EjA1lDZ2efR8MFEECY0XMB257YxVyqTHd-PZJTybx5WCZaSYuaBB7-gC-rLDIdE-qPxeHTT_83P8AxmrXZr_3D_4O3eoX-mnTcxi5pDogouFs0-iwWWSuShygW5bRinZVYvSdssGfMyb2tzhqcJiQwJn3mEY86Ic3MyXDn9XmCZmOY0iSibmS0VVRaghxUp8NLOAiLuwIOlBMgAXGc17t3Y9ydK4XCeEqZWJzcBghc7OzCwb8cCM0lV72Z3t86ptawRO6Nqnk-9kKd-ShkFWpY8_pZLBb79iGQJX2ofSM2KiilI5yXBmIyxELyQCCc2y3WINsLtrLej1Y5eL4GDo8ODw3dHB0d-xXPT-mpabpvgoEqqYkaf3rN5DQenE5MWBB_xtLKCnKy4zMqAY6v3U5xgFhLxZeMFQLSX87PAYoX5lEhjfoHFDGI0sOeQKBxDJS_OFKZsLTebg5lZeJDpFeoOg_3yfK67lYcIKzzF0hrrF5Wul8HHgR13rdEjrNZPxGr_BCzgrURZ51pjcXNby1d2etofdo_tOKxY_FIXmsZ84ZWQCscxiojmHkVMomgeZoj-bUl5HGrrf4X6GK39arSnYgHcCy4KLCIi5EQj_KGr12bNosQCRD_iQuFki8CaYe3CamY0RTgCHr2SOU8a2XqWT2_G77x84YNZxVpdeK8Oq664V4PUTEqKVqN8Cuk667r9Z04Ehbu7ckaAO7H9DH70jjiwssWRNqmxUxSFx0IZVgyAhLhIsaKc-VlJBxiP51Q68MOO4jxRNHPACGYJZYuKrydRdq8u92uh6enkZHwVOFCx9r1SqvBUjj4K2PVcsh9zzFSe1pCGV5fBpPv7mcN4Kj3B-b9i_HI5CsptNZR5mklvjVDibS_9IygcQjCsoQ1yqM6T8ll9VcD7rRK5dQrG8r_3P0BFJyG0mbVODZK-kZBgf3g-ngw5QIAsNjdwOxMTgbV-JAWrgllOI90w_DkvkOIIri0DPSFoN3oc0xnUF7TkuUByKRVJpbZSc4KyUpvI3i-JmGlIKJOsitg8MbTjhEP7YpPN98KgXIBvvxnor2prd5gmeEoTqpbmzpTrJEcFkQq1trLaoNYSg0UPp_gHZyXBeMpzSKWQ_qz8DHxUNn1Repdf8Q-_CjnUzb5LYo3vxDRJOm8uLo6P9_Zc2MYXpPOm3W7bMSpopOadVva9the-nFzb213bfV2opO66-q1HrfWo7W4050JTcsujdmspwtD4IN91KYBUKt4n53ZlW4MbCdh8nmyE44UvVWGTfHdA2tHbFyf5BM21KnPLqvOcs4bbSAkUHRrBfwL3GvC2AVpKoYN1YBiRGOeJ0mfxAKZ5Bv2anEdUcdHowKkRt4FzxYMlC6u5selSPBM4bUB7SiR5-AuLxxvV)](https://mermaid.live/edit#pako:eNqtV2FT2zgQ_Sue9AtMLBsSKCXT6QwQyOUuhBSn5eZCp6PYcqLGlnySjJsS_vutLDlx4LjjuDIZjySv3u4-Pe2a-0bII9LoNOKEF-EcC-UMrm-ZA3_XJOWKfP0kidiJcSfGKIeh834q_A_OJf_VuYpjGlKclCvG2tHWuw5CH1Z9pohgRK2c3uje7A8TnkcGoJfwKU4s2EjA1lDZ2efR8MFEECY0XMB257YxVyqTHd-PZJTybx5WCZaSYuaBB7-gC-rLDIdE-qPxeHTT_83P8AxmrXZr_3D_4O3eoX-mnTcxi5pDogouFs0-iwWWSuShygW5bRinZVYvSdssGfMyb2tzhqcJiQwJn3mEY86Ic3MyXDn9XmCZmOY0iSibmS0VVRaghxUp8NLOAiLuwIOlBMgAXGc17t3Y9ydK4XCeEqZWJzcBghc7OzCwb8cCM0lV72Z3t86ptawRO6Nqnk-9kKd-ShkFWpY8_pZLBb79iGQJX2ofSM2KiilI5yXBmIyxELyQCCc2y3WINsLtrLej1Y5eL4GDo8ODw3dHB0d-xXPT-mpabpvgoEqqYkaf3rN5DQenE5MWBB_xtLKCnKy4zMqAY6v3U5xgFhLxZeMFQLSX87PAYoX5lEhjfoHFDGI0sOeQKBxDJS_OFKZsLTebg5lZeJDpFeoOg_3yfK67lYcIKzzF0hrrF5Wul8HHgR13rdEjrNZPxGr_BCzgrURZ51pjcXNby1d2etofdo_tOKxY_FIXmsZ84ZWQCscxiojmHkVMomgeZoj-bUl5HGrrf4X6GK39arSnYgHcCy4KLCIi5EQj_KGr12bNosQCRD_iQuFki8CaYe3CamY0RTgCHr2SOU8a2XqWT2_G77x84YNZxVpdeK8Oq664V4PUTEqKVqN8Cuk667r9Z04Ehbu7ckaAO7H9DH70jjiwssWRNqmxUxSFx0IZVgyAhLhIsaKc-VlJBxiP51Q68MOO4jxRNHPACGYJZYuKrydRdq8u92uh6enkZHwVOFCx9r1SqvBUjj4K2PVcsh9zzFSe1pCGV5fBpPv7mcN4Kj3B-b9i_HI5CsptNZR5mklvjVDibS_9IygcQjCsoQ1yqM6T8ll9VcD7rRK5dQrG8r_3P0BFJyG0mbVODZK-kZBgf3g-ngw5QIAsNjdwOxMTgbV-JAWrgllOI90w_DkvkOIIri0DPSFoN3oc0xnUF7TkuUByKRVJpbZSc4KyUpvI3i-JmGlIKJOsitg8MbTjhEP7YpPN98KgXIBvvxnor2prd5gmeEoTqpbmzpTrJEcFkQq1trLaoNYSg0UPp_gHZyXBeMpzSKWQ_qz8DHxUNn1Repdf8Q-_CjnUzb5LYo3vxDRJOm8uLo6P9_Zc2MYXpPOm3W7bMSpopOadVva9the-nFzb213bfV2opO66-q1HrfWo7W4050JTcsujdmspwtD4IN91KYBUKt4n53ZlW4MbCdh8nmyE44UvVWGTfHdA2tHbFyf5BM21KnPLqvOcs4bbSAkUHRrBfwL3GvC2AVpKoYN1YBiRGOeJ0mfxAKZ5Bv2anEdUcdHowKkRt4FzxYMlC6u5selSPBM4bUB7SiR5-AuLxxvV)
[diagram source](https://mermaid.live/edit#pako:eNqtV2FT2zgQ_Sue9AtMLBsSKCXT6QwQyOUuhBSn5eZCp6PYcqLGlnySjJsS_vutLDlx4LjjuDIZjySv3u4-Pe2a-0bII9LoNOKEF-EcC-UMrm-ZA3_XJOWKfP0kidiJcSfGKIeh834q_A_OJf_VuYpjGlKclCvG2tHWuw5CH1Z9pohgRK2c3uje7A8TnkcGoJfwKU4s2EjA1lDZ2efR8MFEECY0XMB257YxVyqTHd-PZJTybx5WCZaSYuaBB7-gC-rLDIdE-qPxeHTT_83P8AxmrXZr_3D_4O3eoX-mnTcxi5pDogouFs0-iwWWSuShygW5bRinZVYvSdssGfMyb2tzhqcJiQwJn3mEY86Ic3MyXDn9XmCZmOY0iSibmS0VVRaghxUp8NLOAiLuwIOlBMgAXGc17t3Y9ydK4XCeEqZWJzcBghc7OzCwb8cCM0lV72Z3t86ptawRO6Nqnk-9kKd-ShkFWpY8_pZLBb79iGQJX2ofSM2KiilI5yXBmIyxELyQCCc2y3WINsLtrLej1Y5eL4GDo8ODw3dHB0d-xXPT-mpabpvgoEqqYkaf3rN5DQenE5MWBB_xtLKCnKy4zMqAY6v3U5xgFhLxZeMFQLSX87PAYoX5lEhjfoHFDGI0sOeQKBxDJS_OFKZsLTebg5lZeJDpFeoOg_3yfK67lYcIKzzF0hrrF5Wul8HHgR13rdEjrNZPxGr_BCzgrURZ51pjcXNby1d2etofdo_tOKxY_FIXmsZ84ZWQCscxiojmHkVMomgeZoj-bUl5HGrrf4X6GK39arSnYgHcCy4KLCIi5EQj_KGr12bNosQCRD_iQuFki8CaYe3CamY0RTgCHr2SOU8a2XqWT2_G77x84YNZxVpdeK8Oq664V4PUTEqKVqN8Cuk667r9Z04Ehbu7ckaAO7H9DH70jjiwssWRNqmxUxSFx0IZVgyAhLhIsaKc-VlJBxiP51Q68MOO4jxRNHPACGYJZYuKrydRdq8u92uh6enkZHwVOFCx9r1SqvBUjj4K2PVcsh9zzFSe1pCGV5fBpPv7mcN4Kj3B-b9i_HI5CsptNZR5mklvjVDibS_9IygcQjCsoQ1yqM6T8ll9VcD7rRK5dQrG8r_3P0BFJyG0mbVODZK-kZBgf3g-ngw5QIAsNjdwOxMTgbV-JAWrgllOI90w_DkvkOIIri0DPSFoN3oc0xnUF7TkuUByKRVJpbZSc4KyUpvI3i-JmGlIKJOsitg8MbTjhEP7YpPN98KgXIBvvxnor2prd5gmeEoTqpbmzpTrJEcFkQq1trLaoNYSg0UPp_gHZyXBeMpzSKWQ_qz8DHxUNn1Repdf8Q-_CjnUzb5LYo3vxDRJOm8uLo6P9_Zc2MYXpPOm3W7bMSpopOadVva9the-nFzb213bfV2opO66-q1HrfWo7W4050JTcsujdmspwtD4IN91KYBUKt4n53ZlW4MbCdh8nmyE44UvVWGTfHdA2tHbFyf5BM21KnPLqvOcs4bbSAkUHRrBfwL3GvC2AVpKoYN1YBiRGOeJ0mfxAKZ5Bv2anEdUcdHowKkRt4FzxYMlC6u5selSPBM4bUB7SiR5-AuLxxvV)
## Documentation

- [Getting Started](./documentation/getting-started.md)
- [Local Automated Testing](/documentation/automated-testing.md)
- [Deploying](./documentation/deploying.md)
- [Metrics](./documentation/metrics.md)
- [Monitoring](./documentation/monitoring.md)
- [Alerting](./documentation/alerting.md)
- [Health Checks](./documentation/health-checks.md)
- [Performance Testing](./documentation/performance-benchmarks.md)
